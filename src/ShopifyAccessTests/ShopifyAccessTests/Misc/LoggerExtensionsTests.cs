using System.Diagnostics;
using NUnit.Framework;
using ShopifyAccess.Models.Product;
using ServiceStack;
using ShopifyAccess.Misc;

namespace ShopifyAccessTests.Misc
{
	public class LoggerExtensionsTests
	{
		/// <summary>
		/// Raw JSON from the Shopify API
		/// </summary>
		private const string TwoProductsJson =
			"{\"products\":[" +
				"{\"id\":8273117249767,\"title\":\"Acer Aspire Ultrabook S3-951-6826 Replacement Battery\",\"body_html\":\"" + FirstProductBodyHtml +
					"\",\"vendor\":\"Acer Laptop Batteries\",\"product_type\":\"Laptop Battery\",\"created_at\":\"2022-12-24T14:23:37-06:00\",\"handle\":\"acer-aspire-ultrabook-s3-951-6826-replacement-battery\",\"updated_at\":\"2023-01-17T04:54:55-06:00\",\"published_at\":\"2022-12-29T06:53:18-06:00\",\"template_suffix\":null,\"status\":\"active\",\"published_scope\":\"web\",\"tags\":\"also-fits-in, brand-acer-laptop-batteries, collection-name|acer-laptop-batteries, device-laptop-computer-battery, header-image|laptop.jpg, in_stock, laptop-battery, laptop-computer-battery, product-template-2, product-type-battery\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/8273117249767\",\"variants\":[{\"id\":45780658749671,\"product_id\":8273117249767,\"title\":\"Default Title\",\"price\":\"59.29\",\"sku\":\"CS-ACS951NB-S\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":\"shopify\",\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2022-12-24T14:23:38-06:00\",\"updated_at\":\"2023-01-17T04:54:54-06:00\",\"taxable\":true,\"barcode\":null,\"grams\":470,\"image_id\":39900068872423,\"weight\":1.0362,\"weight_unit\":\"lb\",\"inventory_item_id\":47877715689703,\"inventory_quantity\":2,\"old_inventory_quantity\":2,\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/45780658749671\"}],\"options\":[{\"id\":10403622519015,\"product_id\":8273117249767,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[{\"id\":39900068872423,\"product_id\":8273117249767,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_8ee145ba-670e-417e-abd4-70405a5ea27d.jpg?v=1672318405\",\"variant_ids\":[45780658749671],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068872423\"},{\"id\":39900068905191,\"product_id\":8273117249767,\"position\":2,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-2_e3078a2b-876d-4f3e-a3d5-814c0f1d9a30.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068905191\"},{\"id\":39900068937959,\"product_id\":8273117249767,\"position\":3,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-3_89ae1e67-5ca4-457c-8f69-2f9761ff3e42.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068937959\"},{\"id\":39900068970727,\"product_id\":8273117249767,\"position\":4,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-4_d8413bf1-b4d2-4d39-bdd4-7494287bd59d.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068970727\"},{\"id\":39900069003495,\"product_id\":8273117249767,\"position\":5,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-5_d4c830c2-81d8-4306-9abe-a9f2a3808e6a.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069003495\"},{\"id\":39900069036263,\"product_id\":8273117249767,\"position\":6,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-6_da6f35e6-09da-4a63-90dd-f157c23e47ce.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069036263\"}],\"image\":{\"id\":39900068872423,\"product_id\":8273117249767,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_8ee145ba-670e-417e-abd4-70405a5ea27d.jpg?v=1672318405\",\"variant_ids\":[45780658749671],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068872423\"}}," +
				"{\"id\":8273117184231,\"title\":\"Acer Aspire Ultrabook S3-951-6828 Replacement Battery\",\"body_html\":\"" + SecondProductBodyHtml +
					"\",\"vendor\":\"Acer Laptop Batteries\",\"product_type\":\"Laptop Battery\",\"created_at\":\"2022-12-24T14:23:37-06:00\",\"handle\":\"acer-aspire-ultrabook-s3-951-6828-replacement-battery\",\"updated_at\":\"2023-01-17T04:54:52-06:00\",\"published_at\":\"2022-12-29T06:53:18-06:00\",\"template_suffix\":null,\"status\":\"active\",\"published_scope\":\"web\",\"tags\":\"also-fits-in, brand-acer-laptop-batteries, collection-name|acer-laptop-batteries, device-laptop-computer-battery, header-image|laptop.jpg, in_stock, laptop-battery, laptop-computer-battery, product-template-2, product-type-battery\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/8273117184231\",\"variants\":[{\"id\":45780658618599,\"product_id\":8273117184231,\"title\":\"Default Title\",\"price\":\"59.29\",\"sku\":\"CS-ACS951NB-S\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":\"shopify\",\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2022-12-24T14:23:37-06:00\",\"updated_at\":\"2023-01-17T04:54:51-06:00\",\"taxable\":true,\"barcode\":null,\"grams\":470,\"image_id\":39900069069031,\"weight\":1.0362,\"weight_unit\":\"lb\",\"inventory_item_id\":47877715591399,\"inventory_quantity\":2,\"old_inventory_quantity\":2,\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/45780658618599\"}],\"options\":[{\"id\":10403622453479,\"product_id\":8273117184231,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[{\"id\":39900069069031,\"product_id\":8273117184231,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_14461a69-48b6-4ad4-9688-3fc509ee5164.jpg?v=1672318405\",\"variant_ids\":[45780658618599],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069069031\"},{\"id\":39900069101799,\"product_id\":8273117184231,\"position\":2,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-2_a61bbf5e-a4b9-4087-96e6-10388d507560.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069101799\"},{\"id\":39900069134567,\"product_id\":8273117184231,\"position\":3,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-3_9a8e3f25-9477-4ac6-9056-813a23472bea.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069134567\"},{\"id\":39900069167335,\"product_id\":8273117184231,\"position\":4,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-4_649e76e8-1653-4751-894c-063b1cd72694.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069167335\"},{\"id\":39900069200103,\"product_id\":8273117184231,\"position\":5,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-5_39662de5-dcc3-44d9-9ba8-710fbf997e29.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069200103\"},{\"id\":39900069232871,\"product_id\":8273117184231,\"position\":6,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-6_daf8d476-832e-4262-9e0b-f045c403412b.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069232871\"}],\"image\":{\"id\":39900069069031,\"product_id\":8273117184231,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_14461a69-48b6-4ad4-9688-3fc509ee5164.jpg?v=1672318405\",\"variant_ids\":[45780658618599],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069069031\"}}]}";
		private const string FirstProductBodyHtml = "\\u003cp class=\\\"short_description\\\"\\u003eBrand New - Premium quality Acer Aspire Ultrabook S3-951-6826 laptop replacement battery. Designed for reliable performance and high durability, this battery is 100% compatible with the original equipment.\\u003c\\/p\\u003e\\u003cdiv class=\\\"border\\\"\\u003e\\u003c\\/div\\u003e\\u003cdiv class=\\\"specifications\\\"\\u003e\\n\\u003ch5\\u003eProduct Specifications\\u003c\\/h5\\u003e\\n\\u003cdiv class=\\\"spec_menu\\\"\\u003e\\u003cul\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eVoltage\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e11.1\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eCapacity\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e3280 mAH\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eChemistry\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003eLi-Polymer\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eDimension\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e302.50 x 169.95 x 8.00mm\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eWarranty\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e12 Months\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\u003cdiv class=\\\"description\\\"\\u003e\\n\\u003ch5\\u003eProduct Description\\u003c\\/h5\\u003e\\n\\u003cdiv\\u003e\\n\\u003cp\\u003ePremium quality Acer Aspire Ultrabook S3-951-6826 laptop replacement battery. This Acer Aspire Ultrabook S3-951-6826 laptop replacement battery is compatible with the original equipment. Designed for reliable performance and high durability, it is guaranteed to maintain 80% of its rated capacity for 12 months from the date of shipment.\\u003c\\/p\\u003e\\n\\u003cp class=\\\"features_head\\\"\\u003eBattery features\\u003c\\/p\\u003e\\n\\u003cdiv class=\\\"features\\\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUses the highest quality graded and sorted 'A' Grade cells.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eHas resistance welded gold plated contacts for maximum performance.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eProvides excellent discharge characteristics.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUses high impact ABS and Polycarbonate plastic housings for ruggedness.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUndergone comprehensive testing including high altitude performance, vibration, mechanical shock, thermal cycling, external short circuit and overcharge test simulations.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eIncludes a 12-months free replacement warranty for manufacturer's defects.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003cbr\\u003e\\u003cp\\u003eWe provide premium quality compatible Acer laptop batteries, manufactured by ISO 9001 certified plants using state-of-the-art technology for the finest quality Acer laptop batteries. Each Acer laptop battery is tested throughout the manufacturing process to match or outperform the original equipments specifications for form, fit and workmanship.\\u003c\\/p\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\u003cdiv class=\\\"span12\\\"\\u003e\\n\\u003cdiv class=\\\"feat_img first span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/16.png\\\" alt=\\\"ISO 9001 Quality Assurance \\/ 12 Months Warranty \\/ 30 Days Money-Back Gurantee\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"feat_img span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/17.png\\\" alt=\\\"Free Ground Shipping On Orders Above $149\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"feat_img last span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/years.png\\\" alt=\\\"Years Of Service\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"border_image span12\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/border_4.png\\\" alt=\\\"\\\"\\u003e\\u003c\\/div\\u003e \\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"specifics\\\"\\u003e\\u003cstrong\\u003e Other Specifications \\u003c\\/strong\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"fits blue\\\"\\u003e This Laptop Battery Also Replaces \\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"margin-bottom: 40px;\\\" class=\\\"CSSTableGenerator GridTable\\\"\\u003e\\n\\u003cdiv class=\\\"replaces span4\\\"\\u003e\\n\\u003cul class=\\\"grid-3\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-3icp5-65-88-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer 3ICP5\\/65\\/88\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-3icp5-67-90-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer 3ICP5\\/67\\/90\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-ap11d3f-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer AP11D3F\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-ap11d4f-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer AP11D4F\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-bt-00303-026-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer BT.00303.026\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cbr\\u003e\\n\\u003cdiv class=\\\"fits blue\\\"\\u003eThis Laptop Battery Also Fits In\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"fitsin span4\\\"\\u003e\\n\\u003cul class=\\\"grid-3\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-391-53314g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire 391-53314G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-331-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-331 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-371-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer ASPIRE S3-371 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-323a4g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-323a4G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-53314g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-53314G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6407-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6407 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6423-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6423 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6448-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6448 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6466-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6466 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6470-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6470 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6497-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6497 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6676-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6676 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6686-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6686 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6811-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6811 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6899-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6899 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-73514g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-73514G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9415-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9415 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9445-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9445 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9499-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9499 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9606-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9606 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9695-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9695 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9813-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9813 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-series-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391 Series Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g24iss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G24iss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g34is-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G34IS Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g34iss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G34iss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g52nss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G52nss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2634g25nss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2634G25nss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6432-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6432 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6464-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6464 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6646-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6646 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6675-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6675 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6826-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6826 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6828-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6828 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-f34c-0c52862-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-F34C 0C52862 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-f34c-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-F34C Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-ultrabook-13-3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3 Ultrabook 13.3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-ass3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook ASS3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-ms2346-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook MS2346 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6407-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6407 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6423-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6423 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6448-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6448 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6466-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6466 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6470-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6470 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6497-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6497 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6676-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6676 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6686-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6686 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6811-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6811 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6899-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6899 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9415-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9415 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9445-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9445 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9499-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9499 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9606-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9606 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9695-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9695 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9813-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9813 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-2464g5-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-2464G5 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6432-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6432 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6646-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6646 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6675-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6675 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6826-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6826 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6828-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6828 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"tip_image\\\"\\u003e\\u003cdiv class=\\\"tip_text span9\\\"\\u003eIt's always a good idea to check that the voltage we list for this battery matches the voltage on your original battery. Also be sure to match the battery part number on your battery with one of the part numbers listed above in the \\\"This Battery Replaces\\\" section. Or you can always call us for assistance!\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e";
		private const string SecondProductBodyHtml = "\\u003cp class=\\\"short_description\\\"\\u003eBrand New - Premium quality Acer Aspire Ultrabook S3-951-6828 laptop replacement battery. Designed for reliable performance and high durability, this battery is 100% compatible with the original equipment.\\u003c\\/p\\u003e\\u003cdiv class=\\\"border\\\"\\u003e\\u003c\\/div\\u003e\\u003cdiv class=\\\"specifications\\\"\\u003e\\n\\u003ch5\\u003eProduct Specifications\\u003c\\/h5\\u003e\\n\\u003cdiv class=\\\"spec_menu\\\"\\u003e\\u003cul\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eVoltage\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e11.1\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eCapacity\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e3280 mAH\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eChemistry\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003eLi-Polymer\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eDimension\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e302.50 x 169.95 x 8.00mm\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003cli class=\\\"blue_arrow\\\"\\u003e\\u003cdiv class=\\\"uline\\\"\\u003e\\u003cdiv class=\\\"span\\\"\\u003e\\n\\u003cspan class=\\\"label\\\"\\u003eWarranty\\u003c\\/span\\u003e \\u003cspan class=\\\"dots\\\"\\u003e:\\u003c\\/span\\u003e \\u003cspan class=\\\"value\\\"\\u003e12 Months\\u003c\\/span\\u003e\\n\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\u003cdiv class=\\\"description\\\"\\u003e\\n\\u003ch5\\u003eProduct Description\\u003c\\/h5\\u003e\\n\\u003cdiv\\u003e\\n\\u003cp\\u003ePremium quality Acer Aspire Ultrabook S3-951-6828 laptop replacement battery. This Acer Aspire Ultrabook S3-951-6828 laptop replacement battery is compatible with the original equipment. Designed for reliable performance and high durability, it is guaranteed to maintain 80% of its rated capacity for 12 months from the date of shipment.\\u003c\\/p\\u003e\\n\\u003cp class=\\\"features_head\\\"\\u003eBattery features\\u003c\\/p\\u003e\\n\\u003cdiv class=\\\"features\\\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUses the highest quality graded and sorted 'A' Grade cells.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eHas resistance welded gold plated contacts for maximum performance.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eProvides excellent discharge characteristics.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUses high impact ABS and Polycarbonate plastic housings for ruggedness.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eUndergone comprehensive testing including high altitude performance, vibration, mechanical shock, thermal cycling, external short circuit and overcharge test simulations.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003cspan style=\\\"line-height: 1.2;\\\" data-mce-mark=\\\"1\\\"\\u003eIncludes a 12-months free replacement warranty for manufacturer's defects.\\u003c\\/span\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003cbr\\u003e\\u003cp\\u003eWe provide premium quality compatible Acer laptop batteries, manufactured by ISO 9001 certified plants using state-of-the-art technology for the finest quality Acer laptop batteries. Each Acer laptop battery is tested throughout the manufacturing process to match or outperform the original equipments specifications for form, fit and workmanship.\\u003c\\/p\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\u003cdiv class=\\\"span12\\\"\\u003e\\n\\u003cdiv class=\\\"feat_img first span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/16.png\\\" alt=\\\"ISO 9001 Quality Assurance \\/ 12 Months Warranty \\/ 30 Days Money-Back Gurantee\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"feat_img span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/17.png\\\" alt=\\\"Free Ground Shipping On Orders Above $149\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"feat_img last span4\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/years.png\\\" alt=\\\"Years Of Service\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"border_image span12\\\"\\u003e\\u003cimg src=\\\"\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/files\\/border_4.png\\\" alt=\\\"\\\"\\u003e\\u003c\\/div\\u003e \\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"specifics\\\"\\u003e\\u003cstrong\\u003e Other Specifications \\u003c\\/strong\\u003e\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"fits blue\\\"\\u003e This Laptop Battery Also Replaces \\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"margin-bottom: 40px;\\\" class=\\\"CSSTableGenerator GridTable\\\"\\u003e\\n\\u003cdiv class=\\\"replaces span4\\\"\\u003e\\n\\u003cul class=\\\"grid-3\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-3icp5-65-88-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer 3ICP5\\/65\\/88\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-3icp5-67-90-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer 3ICP5\\/67\\/90\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-ap11d3f-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer AP11D3F\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-ap11d4f-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer AP11D4F\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-bt-00303-026-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer BT.00303.026\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003c\\/div\\u003e\\n\\u003cdiv style=\\\"clear: both;\\\"\\u003e\\u003c\\/div\\u003e\\n\\u003cbr\\u003e\\n\\u003cdiv class=\\\"fits blue\\\"\\u003eThis Laptop Battery Also Fits In\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"fitsin span4\\\"\\u003e\\n\\u003cul class=\\\"grid-3\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-391-53314g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire 391-53314G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-331-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-331 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-371-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer ASPIRE S3-371 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-323a4g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-323a4G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-53314g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-53314G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6407-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6407 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6423-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6423 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6448-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6448 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6466-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6466 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6470-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6470 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6497-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6497 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6676-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6676 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6686-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6686 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6811-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6811 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-6899-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-6899 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-73514g52add-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-73514G52add Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9415-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9415 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9445-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9445 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9499-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9499 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9606-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9606 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9695-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9695 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-9813-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391-9813 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-391-series-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-391 Series Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g24iss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G24iss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g34is-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G34IS Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g34iss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G34iss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2464g52nss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2464G52nss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-2634g25nss-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-2634G25nss Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6432-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6432 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6464-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6464 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6646-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6646 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6675-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6675 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6826-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6826 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-6828-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-6828 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-f34c-0c52862-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-F34C 0C52862 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-f34c-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951-F34C Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-951-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3-951 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-s3-ultrabook-13-3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire S3 Ultrabook 13.3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-ass3-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook ASS3 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-ms2346-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook MS2346 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6407-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6407 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6423-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6423 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6448-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6448 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6466-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6466 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6470-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6470 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6497-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6497 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6676-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6676 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6686-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6686 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6811-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6811 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-6899-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-6899 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9415-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9415 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9445-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9445 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9499-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9499 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9606-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9606 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9695-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9695 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-391-9813-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-391-9813 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-2464g5-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-2464G5 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6432-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6432 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6646-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6646 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6675-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6675 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6826-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6826 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"\\/products\\/acer-aspire-ultrabook-s3-951-6828-replacement-battery\\\"\\u003e\\u003ch2\\u003eAcer Aspire Ultrabook S3-951-6828 Battery\\u003c\\/h2\\u003e\\u003c\\/a\\u003e\\u003c\\/li\\u003e\\n\\u003c\\/ul\\u003e\\n\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e\\n\\u003cdiv class=\\\"tip_image\\\"\\u003e\\u003cdiv class=\\\"tip_text span9\\\"\\u003eIt's always a good idea to check that the voltage we list for this battery matches the voltage on your original battery. Also be sure to match the battery part number on your battery with one of the part numbers listed above in the \\\"This Battery Replaces\\\" section. Or you can always call us for assistance!\\u003c\\/div\\u003e\\u003c\\/div\\u003e\\n\\u003c\\/div\\u003e";
		private const string FirstProductJson =
			"{\"products\":[" +
				"{\"id\":8273117249767,\"title\":\"Acer Aspire Ultrabook S3-951-6826 Replacement Battery\",\"body_html\":\"" + FirstProductBodyHtml +
					"\",\"vendor\":\"Acer Laptop Batteries\",\"product_type\":\"Laptop Battery\",\"created_at\":\"2022-12-24T14:23:37-06:00\",\"handle\":\"acer-aspire-ultrabook-s3-951-6826-replacement-battery\",\"updated_at\":\"2023-01-17T04:54:55-06:00\",\"published_at\":\"2022-12-29T06:53:18-06:00\",\"template_suffix\":null,\"status\":\"active\",\"published_scope\":\"web\",\"tags\":\"also-fits-in, brand-acer-laptop-batteries, collection-name|acer-laptop-batteries, device-laptop-computer-battery, header-image|laptop.jpg, in_stock, laptop-battery, laptop-computer-battery, product-template-2, product-type-battery\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/8273117249767\",\"variants\":[{\"id\":45780658749671,\"product_id\":8273117249767,\"title\":\"Default Title\",\"price\":\"59.29\",\"sku\":\"CS-ACS951NB-S\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":\"shopify\",\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2022-12-24T14:23:38-06:00\",\"updated_at\":\"2023-01-17T04:54:54-06:00\",\"taxable\":true,\"barcode\":null,\"grams\":470,\"image_id\":39900068872423,\"weight\":1.0362,\"weight_unit\":\"lb\",\"inventory_item_id\":47877715689703,\"inventory_quantity\":2,\"old_inventory_quantity\":2,\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/45780658749671\"}],\"options\":[{\"id\":10403622519015,\"product_id\":8273117249767,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[{\"id\":39900068872423,\"product_id\":8273117249767,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_8ee145ba-670e-417e-abd4-70405a5ea27d.jpg?v=1672318405\",\"variant_ids\":[45780658749671],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068872423\"},{\"id\":39900068905191,\"product_id\":8273117249767,\"position\":2,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-2_e3078a2b-876d-4f3e-a3d5-814c0f1d9a30.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068905191\"},{\"id\":39900068937959,\"product_id\":8273117249767,\"position\":3,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-3_89ae1e67-5ca4-457c-8f69-2f9761ff3e42.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068937959\"},{\"id\":39900068970727,\"product_id\":8273117249767,\"position\":4,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-4_d8413bf1-b4d2-4d39-bdd4-7494287bd59d.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068970727\"},{\"id\":39900069003495,\"product_id\":8273117249767,\"position\":5,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-5_d4c830c2-81d8-4306-9abe-a9f2a3808e6a.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069003495\"},{\"id\":39900069036263,\"product_id\":8273117249767,\"position\":6,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-6_da6f35e6-09da-4a63-90dd-f157c23e47ce.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069036263\"}],\"image\":{\"id\":39900068872423,\"product_id\":8273117249767,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_8ee145ba-670e-417e-abd4-70405a5ea27d.jpg?v=1672318405\",\"variant_ids\":[45780658749671],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900068872423\"}}]}";
		private const string SecondProductJson =
			"{\"products\":[" +
				"{\"id\":8273117184231,\"title\":\"Acer Aspire Ultrabook S3-951-6828 Replacement Battery\",\"body_html\":\"" + SecondProductBodyHtml +
					"\",\"vendor\":\"Acer Laptop Batteries\",\"product_type\":\"Laptop Battery\",\"created_at\":\"2022-12-24T14:23:37-06:00\",\"handle\":\"acer-aspire-ultrabook-s3-951-6828-replacement-battery\",\"updated_at\":\"2023-01-17T04:54:52-06:00\",\"published_at\":\"2022-12-29T06:53:18-06:00\",\"template_suffix\":null,\"status\":\"active\",\"published_scope\":\"web\",\"tags\":\"also-fits-in, brand-acer-laptop-batteries, collection-name|acer-laptop-batteries, device-laptop-computer-battery, header-image|laptop.jpg, in_stock, laptop-battery, laptop-computer-battery, product-template-2, product-type-battery\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/8273117184231\",\"variants\":[{\"id\":45780658618599,\"product_id\":8273117184231,\"title\":\"Default Title\",\"price\":\"59.29\",\"sku\":\"CS-ACS951NB-S\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":\"shopify\",\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2022-12-24T14:23:37-06:00\",\"updated_at\":\"2023-01-17T04:54:51-06:00\",\"taxable\":true,\"barcode\":null,\"grams\":470,\"image_id\":39900069069031,\"weight\":1.0362,\"weight_unit\":\"lb\",\"inventory_item_id\":47877715591399,\"inventory_quantity\":2,\"old_inventory_quantity\":2,\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/45780658618599\"}],\"options\":[{\"id\":10403622453479,\"product_id\":8273117184231,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[{\"id\":39900069069031,\"product_id\":8273117184231,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_14461a69-48b6-4ad4-9688-3fc509ee5164.jpg?v=1672318405\",\"variant_ids\":[45780658618599],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069069031\"},{\"id\":39900069101799,\"product_id\":8273117184231,\"position\":2,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-2_a61bbf5e-a4b9-4087-96e6-10388d507560.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069101799\"},{\"id\":39900069134567,\"product_id\":8273117184231,\"position\":3,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-3_9a8e3f25-9477-4ac6-9056-813a23472bea.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069134567\"},{\"id\":39900069167335,\"product_id\":8273117184231,\"position\":4,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-4_649e76e8-1653-4751-894c-063b1cd72694.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069167335\"},{\"id\":39900069200103,\"product_id\":8273117184231,\"position\":5,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-5_39662de5-dcc3-44d9-9ba8-710fbf997e29.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069200103\"},{\"id\":39900069232871,\"product_id\":8273117184231,\"position\":6,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-6_daf8d476-832e-4262-9e0b-f045c403412b.jpg?v=1672318405\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069232871\"}],\"image\":{\"id\":39900069069031,\"product_id\":8273117184231,\"position\":1,\"created_at\":\"2022-12-29T06:53:25-06:00\",\"updated_at\":\"2022-12-29T06:53:25-06:00\",\"alt\":\"CS-ACS951NB-S\",\"width\":500,\"height\":500,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0248\\/9160\\/products\\/CS-ACS951NB-S_14461a69-48b6-4ad4-9688-3fc509ee5164.jpg?v=1672318405\",\"variant_ids\":[45780658618599],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/39900069069031\"}}]}";

		[ Test ]
		public void ToLogContentsShopifyProducts_WhenTwoProductsWithLongBodyHtml_ShouldTruncateBodyHtmlFieldValues()
		{
			var resultJson = TwoProductsJson.ToLogContents< ShopifyProducts >();

			var resultProducts = resultJson.FromJson< ShopifyProducts >().Products;
			//Should be considerably shorter due to truncation
			Assert.That( resultJson.Length + 100, Is.LessThan( TwoProductsJson.Length ) );
			Assert.That( resultProducts[ 0 ].BodyHtml.Length, Is.LessThanOrEqualTo( LoggerExtensions.MaxFieldValueLength ) );
			Assert.True( FirstProductBodyHtml.StartsWith( resultProducts[ 0 ].BodyHtml
					.EncodeToMatchReturnedFromShopifyAPI().RemoveTruncationIndicator() ) );
			Assert.That( resultProducts[ 1 ].BodyHtml.Length, Is.LessThanOrEqualTo( LoggerExtensions.MaxFieldValueLength ) );
			Assert.True( SecondProductBodyHtml.StartsWith( resultProducts[ 1 ].BodyHtml
					.EncodeToMatchReturnedFromShopifyAPI().RemoveTruncationIndicator() ) );
		}

		//TODO ToLogContents< ShopifyProducts > produces invalid JSON:
		//1. It erase part of the middle product. Initial JSON had 3 "body_html" (one per product) but the result only has two
		//2. The "a..." below is abnormal JSON since it's not a field:value part, like "tags":"magento_disabled" AND "vendor":"Global Healing"
		//		"tags":"magento_disabled","a...","vendor":"Global Healing"
		//The "..." part is added by the truncation replace.
		//3. Last product's body_html isn't getting truncated (should be <300 characters in result)
		//These might have to do with some products having an empty body_html. Apparently, the RegExt can't handle that (gets too greedy).
		[ Test ]
		public void ToLogContentsShopifyProducts_WhenSpecificJson_ShouldTruncateOnlyBodyHtml()
		{
			const string bodyHtmlThird = "\n\u003cp\u003eSupport your digestive health with our NEW Acid Reflux Relief liquid formula. Foods are known to disrupt your stomachs pH levels and cause indigestion. Our Acid Reflux Relief combines well-known organic ingredients like apple cider vinegar (ACV) with six other trusted herbs known to soothe occasional heartburn, indigestion, and digestive irritation.\u003c\\/p\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003eEases Occasional Heartburn \u0026amp; Acid Reflux\u003c\\/p\u003e\u003c\\/li\u003e\n\u003cli\u003e\u003cp\u003ePromotes Healthy pH of the Stomach\u003c\\/p\u003e\u003c\\/li\u003e\n\u003cli\u003e\u003cp\u003eSupports the Bodys Natural Defense Against Digestive Inflammation\u003c\\/p\u003e\u003c\\/li\u003e\n\u003cli\u003e\u003cp\u003eYear to Love It  One Year Money-Back Guarantee\u003c\\/p\u003e\u003c\\/li\u003e\n\u003c\\/ul\u003e\n\n\n";
			string problematicProducts =
				//The 1st two have a blank body_html
				"{\"products\":[" +
					"{\"id\":6735860105416,\"title\":\"50 Extra Vegetarian Capsules\",\"body_html\":\"\",\"vendor\":\"Global Healing\",\"product_type\":\"\",\"created_at\":\"2021-04-19T17:34:37-05:00\",\"handle\":\"50-extra-vegetarian-capsules\",\"updated_at\":\"2023-02-21T10:50:19-06:00\",\"published_at\":null,\"template_suffix\":\"\",\"status\":\"archived\",\"published_scope\":\"web\",\"tags\":\"magento_disabled\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/6735860105416\",\"variants\":[{\"id\":39867295137992,\"product_id\":6735860105416,\"title\":\"Default Title\",\"price\":\"0.00\",\"sku\":\"50EVC\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":null,\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2021-04-19T17:34:37-05:00\",\"updated_at\":\"2021-09-15T11:33:49-05:00\",\"taxable\":true,\"barcode\":\"\",\"grams\":57,\"image_id\":null,\"weight\":56.699,\"weight_unit\":\"g\",\"inventory_item_id\":41961859023048,\"inventory_quantity\":0,\"old_inventory_quantity\":0,\"tax_code\":\"P0000000\",\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/39867295137992\"}],\"options\":[{\"id\":8629704884424,\"product_id\":6735860105416,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[],\"image\":null}," +
					"{\"id\":6735863185608,\"title\":\"9 Step Body Cleanse Kit\",\"body_html\":\"\",\"vendor\":\"Global Healing\",\"product_type\":\"\",\"created_at\":\"2021-04-19T17:35:13-05:00\",\"handle\":\"9-step-body-cleanse-kit\",\"updated_at\":\"2023-02-21T10:50:21-06:00\",\"published_at\":null,\"template_suffix\":\"\",\"status\":\"archived\",\"published_scope\":\"web\",\"tags\":\"magento_disabled\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/6735863185608\",\"variants\":[{\"id\":39867299201224,\"product_id\":6735863185608,\"title\":\"Default Title\",\"price\":\"479.95\",\"sku\":\"9SBCK\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":null,\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2021-04-19T17:35:13-05:00\",\"updated_at\":\"2021-09-15T11:33:53-05:00\",\"taxable\":true,\"barcode\":\"\",\"grams\":0,\"image_id\":null,\"weight\":0.0,\"weight_unit\":\"g\",\"inventory_item_id\":41961863086280,\"inventory_quantity\":0,\"old_inventory_quantity\":0,\"tax_code\":\"PF050700\",\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/39867299201224\"}],\"options\":[{\"id\":8629708161224,\"product_id\":6735863185608,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[],\"image\":null}," +
					"{\"id\":6903246487752,\"title\":\"Acid Reflux Relief\",\"body_html\":\"" + bodyHtmlThird + "\",\"vendor\":\"Global Healing\",\"product_type\":\"Vitamins \u0026 Supplements\",\"created_at\":\"2021-06-17T10:36:45-05:00\",\"handle\":\"acid-reflux\",\"updated_at\":\"2023-03-21T16:50:51-05:00\",\"published_at\":\"2021-06-21T11:16:00-05:00\",\"template_suffix\":\"\",\"status\":\"active\",\"published_scope\":\"global\",\"tags\":\"All Products (A-Z), catalog-enabled, Featured Products, new, Promotion Inclusion, Shop, subscription-10, Supplements\",\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/Product\\/6903246487752\",\"variants\":[{\"id\":40364440518856,\"product_id\":6903246487752,\"title\":\"Default Title\",\"price\":\"29.95\",\"sku\":\"ARR-2OZ\",\"position\":1,\"inventory_policy\":\"deny\",\"compare_at_price\":null,\"fulfillment_service\":\"manual\",\"inventory_management\":\"shopify\",\"option1\":\"Default Title\",\"option2\":null,\"option3\":null,\"created_at\":\"2021-06-17T10:36:46-05:00\",\"updated_at\":\"2023-03-21T16:50:51-05:00\",\"taxable\":true,\"barcode\":\"811839031673\",\"grams\":213,\"image_id\":null,\"weight\":213.1882,\"weight_unit\":\"g\",\"inventory_item_id\":42459589050568,\"inventory_quantity\":155,\"old_inventory_quantity\":155,\"tax_code\":\"PF050700\",\"requires_shipping\":true,\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductVariant\\/40364440518856\"}],\"options\":[{\"id\":8813671612616,\"product_id\":6903246487752,\"name\":\"Title\",\"position\":1,\"values\":[\"Default Title\"]}],\"images\":[{\"id\":30454560522440,\"product_id\":6903246487752,\"position\":1,\"created_at\":\"2021-07-16T13:13:56-05:00\",\"updated_at\":\"2022-10-04T17:24:03-05:00\",\"alt\":null,\"width\":3000,\"height\":3000,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0539\\/5621\\/4984\\/products\\/3000w_6d3c9c1f-417e-4619-97a2-c1a06103a2e1.png?v=1664922243\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/30454560522440\"},{\"id\":33524765655240,\"product_id\":6903246487752,\"position\":2,\"created_at\":\"2022-10-04T17:24:10-05:00\",\"updated_at\":\"2022-10-04T17:24:12-05:00\",\"alt\":null,\"width\":3000,\"height\":3000,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0539\\/5621\\/4984\\/products\\/3000w_c4246a6e-3c2c-49f7-b8ea-57764f139d32.jpg?v=1664922252\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/33524765655240\"},{\"id\":30454560784584,\"product_id\":6903246487752,\"position\":3,\"created_at\":\"2021-07-16T13:13:56-05:00\",\"updated_at\":\"2022-10-04T17:24:12-05:00\",\"alt\":null,\"width\":3250,\"height\":3250,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0539\\/5621\\/4984\\/products\\/carousel-1_c97100a3-1fbb-4cda-b7c8-dad7709bf1d5.jpg?v=1664922252\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/30454560784584\"},{\"id\":30454560850120,\"product_id\":6903246487752,\"position\":4,\"created_at\":\"2021-07-16T13:13:56-05:00\",\"updated_at\":\"2022-10-04T17:24:12-05:00\",\"alt\":null,\"width\":2000,\"height\":2000,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0539\\/5621\\/4984\\/products\\/carousel-2_a6f4a0ea-3670-47b1-909b-fdff8bf83788.jpg?v=1664922252\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/30454560850120\"}],\"image\":{\"id\":30454560522440,\"product_id\":6903246487752,\"position\":1,\"created_at\":\"2021-07-16T13:13:56-05:00\",\"updated_at\":\"2022-10-04T17:24:03-05:00\",\"alt\":null,\"width\":3000,\"height\":3000,\"src\":\"https:\\/\\/cdn.shopify.com\\/s\\/files\\/1\\/0539\\/5621\\/4984\\/products\\/3000w_6d3c9c1f-417e-4619-97a2-c1a06103a2e1.png?v=1664922243\",\"variant_ids\":[],\"admin_graphql_api_id\":\"gid:\\/\\/shopify\\/ProductImage\\/30454560522440\"}" + 
				"]}";

			var resultJson = problematicProducts.ToLogContents< ShopifyProducts >();

			var resultProducts = resultJson.FromJson< ShopifyProducts >().Products;
			// Assert.That( resultProducts.Count, Is.EqualTo( 3 ));
			//Should be considerably shorter due to truncation
			Assert.That( resultJson.Length + 100, Is.LessThan( problematicProducts.Length ) );
			Assert.That( resultProducts[ 0 ].BodyHtml, Is.Empty );
			Assert.That( resultProducts[ 1 ].BodyHtml, Is.Empty );
			Assert.That( resultProducts[ 2 ].BodyHtml.Length, Is.LessThanOrEqualTo( LoggerExtensions.MaxFieldValueLength ) );
			Assert.True( bodyHtmlThird.StartsWith( resultProducts[ 2 ].BodyHtml
					.EncodeToMatchReturnedFromShopifyAPI().RemoveTruncationIndicator() ) );
		}

		/// <summary>
		/// To test RegexOptions.Compiled option, which should speed up subsequent RegEx calls
		/// </summary>
		[ Test ]
		public void ToLogContentsShopifyProducts_WhenCalledForOneProductThenADifferentOne_ShouldBeFasterOnSecondCall()
		{
			var firstCallStopwatch = new Stopwatch();
			firstCallStopwatch.Start();
			FirstProductJson.ToLogContents< ShopifyProducts >();
			firstCallStopwatch.Stop();

			var secondCallStopwatch = new Stopwatch();
			secondCallStopwatch.Start();
			SecondProductJson.ToLogContents< ShopifyProducts >();
			secondCallStopwatch.Stop();

			Assert.That( secondCallStopwatch.ElapsedTicks, Is.LessThan( firstCallStopwatch.ElapsedTicks / 4 ) );
		}
	}

	internal static class LoggerExtensionsTestsExtensions
	{
		/// <summary>
		/// ServiceStack method {string}.FromJson() decodes these characters, without an option to prevent this. This method manually encodes the special characters present in the test data,
		/// in order to facilitate precise string comparison. There doesn't appear to be an automatic way to do this decoding.
		/// </summary>
		/// <param name="json"></param>
		/// <returns></returns>
		internal static string EncodeToMatchReturnedFromShopifyAPI( this string json )
		{
			return json.Replace( ">\n", ">\\n" )
				.Replace( "</", "<\\/" )
				.Replace( "\"", "\\\"" )
				.Replace( ">", "\\u003e" )
				.Replace( "<", "\\u003c" );
		}

		/// <summary>
		/// Remove the indicator that was appended to the log text when it was truncated
		/// </summary>
		/// <param name="logText"></param>
		/// <returns></returns>
		internal static string RemoveTruncationIndicator( this string logText )
		{
			return logText.Length >= LoggerExtensions.TruncationIndicator.Length 
				? logText.Substring( 0, logText.Length - LoggerExtensions.TruncationIndicator.Length - 1 )
				: logText;
		}
	}
}